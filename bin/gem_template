#!/bin/bash

echo ""
git clone 'https://github.com/winton/gem_template.git' $1

if [ $? -eq 0 ]; then
  cd $1
else
  exit 1
fi

echo -e "\nFetching..."
git fetch

echo -e "\nWriting .ruby-gemset..."
echo $1 > .ruby-gemset

echo -e "\nInstalling base gems..."
gem install bundler && bundle

echo -e "\nGemTemplate -> $2..."
namer gem_template:$1 GemTemplate:$2

echo ""
echo $'\e[1;31m'"To finish setting up your project:"
echo $'\e[0m'
echo "    cd $1"

for i in ${@:3}; do
	echo "    git merge origin/$i"
done

echo "    bundle"
echo ""

# -- replace
# #!/usr/bin/env ruby
#
# require File.expand_path("../../lib/gem_template", __FILE__)